
<form [formGroup]="clientForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label for="company_name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Razão Social <span class="text-red-500">*</span></label>
      <input type="text" id="company_name" formControlName="company_name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
      @if (clientForm.get('company_name')?.invalid && (clientForm.get('company_name')?.dirty || clientForm.get('company_name')?.touched)) {
        <p class="mt-1 text-xs text-red-500">Razão Social é obrigatória.</p>
      }
    </div>
    <div>
      <label for="trade_name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nome Fantasia <span class="text-red-500">*</span></label>
      <input type="text" id="trade_name" formControlName="trade_name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
       @if (clientForm.get('trade_name')?.invalid && (clientForm.get('trade_name')?.dirty || clientForm.get('trade_name')?.touched)) {
        <p class="mt-1 text-xs text-red-500">Nome Fantasia é obrigatório.</p>
      }
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label for="cnpj" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">CNPJ <span class="text-red-500">*</span></label>
      <input type="text" id="cnpj" formControlName="cnpj" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required maxlength="18">
       @if (clientForm.get('cnpj')?.invalid && (clientForm.get('cnpj')?.dirty || clientForm.get('cnpj')?.touched)) {
        <p class="mt-1 text-xs text-red-500">CNPJ é obrigatório.</p>
      }
    </div>
    <div>
      <label for="status" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Status</label>
      <select id="status" formControlName="status" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        <option value="Ativo">Ativo</option>
        <option value="Inativo">Inativo</option>
      </select>
    </div>
  </div>

   <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label for="contact_person" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Pessoa de Contato <span class="text-red-500">*</span></label>
      <input type="text" id="contact_person" formControlName="contact_person" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
       @if (clientForm.get('contact_person')?.invalid && (clientForm.get('contact_person')?.dirty || clientForm.get('contact_person')?.touched)) {
        <p class="mt-1 text-xs text-red-500">Pessoa de contato é obrigatória.</p>
      }
    </div>
    <div>
      <label for="contact_phone" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Telefone</label>
      <input type="tel" id="contact_phone" formControlName="contact_phone" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
    </div>
  </div>
  <div>
    <label for="contact_email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email de Contato <span class="text-red-500">*</span></label>
    <input type="email" id="contact_email" formControlName="contact_email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
     @if (clientForm.get('contact_email')?.invalid && (clientForm.get('contact_email')?.dirty || clientForm.get('contact_email')?.touched)) {
        @if(clientForm.get('contact_email')?.hasError('required')) {
             <p class="mt-1 text-xs text-red-500">Email de contato é obrigatório.</p>
        }
        @if(clientForm.get('contact_email')?.hasError('email')) {
             <p class="mt-1 text-xs text-red-500">Formato de email inválido.</p>
        }
    }
  </div>

  <div class="pt-4 mt-4 border-t dark:border-gray-600">
    <p class="text-base font-medium text-gray-900 dark:text-white mb-2">Detalhes de Faturamento</p>
    <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
        <div>
            <label for="franchise_pages_bw" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Franquia P&B (Páginas) <span class="text-red-500">*</span></label>
            <input type="number" id="franchise_pages_bw" formControlName="franchise_pages_bw" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
        </div>
        <div>
            <label for="franchise_value_bw" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Valor Franquia P&B (R$) <span class="text-red-500">*</span></label>
            <input type="number" step="0.01" id="franchise_value_bw" formControlName="franchise_value_bw" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
        </div>
        <div>
            <label for="overage_cost_bw" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Excedente P&B (R$) <span class="text-red-500">*</span></label>
            <input type="number" step="0.01" id="overage_cost_bw" formControlName="overage_cost_bw" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
        </div>
        <div>
            <label for="franchise_pages_color" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Franquia Cor (Páginas) <span class="text-red-500">*</span></label>
            <input type="number" id="franchise_pages_color" formControlName="franchise_pages_color" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
        </div>
        <div>
            <label for="franchise_value_color" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Valor Franquia Cor (R$) <span class="text-red-500">*</span></label>
            <input type="number" step="0.01" id="franchise_value_color" formControlName="franchise_value_color" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
        </div>
        <div>
            <label for="overage_cost_color" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Excedente Cor (R$) <span class="text-red-500">*</span></label>
            <input type="number" step="0.01" id="overage_cost_color" formControlName="overage_cost_color" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600" required>
        </div>
    </div>
  </div>


  <div class="pt-4 mt-4 border-t dark:border-gray-600">
    <p class="text-base font-medium text-gray-900 dark:text-white mb-2">Endereço</p>
    <div formGroupName="address" class="grid grid-cols-2 sm:grid-cols-3 gap-4">
        <div class="col-span-2 sm:col-span-1">
            <label for="client_zip" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">CEP</label>
            <input type="text" id="client_zip" formControlName="zip" placeholder="Digite o CEP" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        </div>
        <div class="col-span-2 sm:col-span-2">
            <label for="client_street" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Rua</label>
            <input type="text" id="client_street" formControlName="street" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        </div>
        <div>
            <label for="client_number" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Número</label>
            <input type="text" id="client_number" formControlName="number" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        </div>
        <div class="col-span-2">
            <label for="client_neighborhood" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Bairro</label>
            <input type="text" id="client_neighborhood" formControlName="neighborhood" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        </div>
        <div>
            <label for="client_city" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Cidade</label>
            <input type="text" id="client_city" formControlName="city" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        </div>
        <div>
            <label for="client_state" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Estado</label>
            <input type="text" id="client_state" formControlName="state" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600">
        </div>
    </div>
  </div>

  <div class="flex justify-end pt-4 space-x-2">
    <button type="button" (click)="onCancel()" class="text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 rounded-lg text-sm px-5 py-2.5">
      Cancelar
    </button>
    <button type="submit" [disabled]="clientForm.invalid" class="text-white bg-primary-600 hover:bg-primary-700 font-medium rounded-lg text-sm px-5 py-2.5 disabled:opacity-50">
      Salvar Cliente
    </button>
  </div>
</form>